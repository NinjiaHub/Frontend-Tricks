# å‡½æ•°å£°æ˜(Function Declaration) VS å‡½æ•°è¡¨è¾¾å¼(Function Expression)

è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«ã€‚

## åŒºåˆ«

### **å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰- åœ¨ä¸»ç¨‹åºæµä¸­ä½œä¸ºç‹¬ç«‹çš„å£°æ˜å­˜åœ¨ï¼š**

#### å£°æ˜åœ¨å…¨å±€ä½œç”¨åŸŸä¸­

```javascript
// a.js
function foo () {
	...
}
```

#### å£°æ˜åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­

```javascript
function foo () {
	function bar () { // å‡½æ•°å£°æ˜ï¼ŒåµŒå¥—å‡½æ•°
		...
	}
}
```

### **å‡½æ•°è¡¨è¾¾å¼ ï¼ˆFunction Expressionï¼‰- ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†æˆ–è€…å…¶ä»–è¯­æ³•ç»“æ„çš„ä¸€éƒ¨åˆ†å­˜åœ¨ï¼š**

#### ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹ï¼š

```javascript
// b.js
let foo = function () {}
```

#### ä½œä¸ºå…¶ä»–è¯­æ³•ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹ï¼š

1ã€ä½œä¸ºä¸‰ç›®è¿ç®—ç¬¦çš„ä¸€éƒ¨åˆ†

```javascript
true ? cosnole.log(1) : function foo () {}
foo // Uncaught ReferenceError: foo is not definedï¼Œæ­¤æ—¶è¯¥å‡½æ•°æœªå£°æ˜ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
```

å¦‚æœä½œä¸ºä¸‰ç›®è¿ç®—ç¬¦çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œ`function foo () {}` éƒ¨åˆ†åªæœ‰åœ¨å¼•æ“æ‰§è¡Œåˆ°è¯¥éƒ¨åˆ†æ—¶æ‰ä¼šè¿è¡Œï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰è¢«æ‰§è¡Œåˆ°ï¼Œ`foo` è¿™ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½¿ç”¨ä¼šæŠ¥é”™ã€‚

2ã€ä½œä¸º `if-else` è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼š

```javascript
if (true) {
	function foo () {}
} else {
	function foo () {}
}
```

ä¸Šé¢çš„ä»£ç ç­‰ä»·äºä¸‹é¢çš„ï¼š

```javascript
var foo
if (true) {
	foo = function foo () {}
} else {
	foo = function foo () {}
}
```

ä½œä¸º `if-else` è¯­å¥çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œä¸åŒäºå…¶åœ¨ `? :` ä¸­çš„è¡¨ç°ï¼šåœ¨èŠ±æ‹¬å·ä¸­çš„å‡½æ•°å£°æ˜ä¸€å®šä¼šæå‡ä¸€ä¸ªåŒåçš„æ ‡ç¤º `foo` åˆ° `if-else` çš„å¤–å±‚ï¼›è€Œåœ¨ `? :` ç»“æ„ä¸­çš„éƒ¨åˆ†æ˜¯ä½œä¸ºè¡¨è¾¾å¼å­˜åœ¨çš„ï¼Œä¸€æ—¦æœªæ‰§è¡Œï¼Œåˆ™ç›´æ¥ä¸¢æ‰ï¼Œä¸ä¼šæå‡å‡ºåŒåæ ‡è¯†ç¬¦ã€‚

## è¢«æ‰§è¡Œæ—¶æœº

### å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰

#### å…¨å±€ä½œç”¨åŸŸ

JS å¼•æ“åœ¨æ‰§è¡Œæ•´ä¸ªè„šæœ¬ä¹‹å‰ï¼Œä¼šä¼˜å…ˆå¤„ç†å…¨å±€ä½œç”¨åŸŸä¸­çš„å‡½æ•°å£°æ˜ï¼Œç„¶åå†å¤„ç†å…¨å±€ä½œç”¨åŸŸä¸­çš„å˜é‡å£°æ˜ï¼›å¦‚æœå˜é‡åç§°ä¸å‡½æ•°åç§°ç›¸åŒï¼Œåˆ™å¿½ç•¥è¯¥å˜é‡å£°æ˜ï¼Œå¦‚ï¼š

```javascript
function foo () {}

let foo;

typeof foo; // function

foo = 123; // line 4
```

å¦‚ä¸Šæ‰€ç¤ºï¼Œåªæœ‰åœ¨æ‰§è¡Œåˆ° `line 4` è¿™ä¸€è¡Œæ—¶ï¼Œfoo æ‰ä¼šè¢«èµ‹å€¼ä¸º `123`ã€‚

#### å‡½æ•°ä½œç”¨åŸŸ

å‡½æ•°ä½œç”¨åŸŸä¸­çš„æå‡è§„åˆ™åŒå…¨å±€ä½œç”¨åŸŸï¼ŒåŒºåˆ«æ˜¯å‡½æ•°ä½œç”¨åŸŸä¸­çš„å£°æ˜æå‡å‘ç”Ÿåœ¨ JS å¼•æ“å¼€å§‹æ‰§è¡Œå‡½æ•°ç¬¬ä¸€è¡Œä¹‹å‰ã€‚

```javascript
function foo () {
	bar(); // line 1
	
	function bar () {
		...
	}
}

foo();
```
å¦‚ä¸Šæ‰€ç¤ºï¼Œåœ¨å¼•æ“æ‰§è¡Œ `line 1` è¿™è¡Œä»£ç ä¹‹å‰ï¼Œä¼šå…ˆæ‰§è¡Œ **æå‡**ï¼Œå½“å‡½æ•°å’Œå˜é‡éƒ½æå‡å®Œä¹‹åï¼Œæ‰ä¼šå¼€å§‹æ‰§è¡Œ `line 1` è¿™è¡Œä»£ç ã€‚å¦‚æœå‡½æ•° `foo` ä¸è¢«æ‰§è¡Œï¼Œåˆ™æ°¸è¿œä¸ä¼šå¤„ç†å…¶å‡½æ•°ä½“ä¸­çš„å‡½æ•°ã€å˜é‡ç­‰æå‡ã€‚

### å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰

å‡½æ•°è¡¨è¾¾å¼åªæœ‰åœ¨ JS å¼•æ“æ‰§è¡Œåˆ°å…¶æ‰€åœ¨ä½ç½®æ—¶æ‰ä¼šè¢«æ‰§è¡Œï¼Œä¾‹ï¼š

```javascript
foo(); // Uncaught TypeError: foo2 is not a function

...

var foo = function () {}; // line 2
```

ä¸Šé¢çš„ä»£ç åªä¼šè¿›è¡Œ å˜é‡ æå‡ï¼Œåªæœ‰åœ¨æ‰§è¡Œåˆ° `line 2` æ—¶æ‰ä¼šå°†åŒ¿åå‡½æ•°èµ‹å€¼ç»™å˜é‡ `foo`ï¼Œæ‰€ä»¥é€šè¿‡å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºçš„å‡½æ•°ä¸èƒ½åœ¨åˆ›å»ºä¹‹å‰è°ƒç”¨ã€‚

## æ€»ç»“

> If the function is declared as a separate statement in the main code flow, thatâ€™s called a â€œFunction Declarationâ€.
> 
> å¦‚æœå‡½æ•°æ˜¯åœ¨ä¸»ä»£ç æµä¸­ä½œä¸ºå•ç‹¬çš„ç»“æ„å£°æ˜çš„ï¼Œåˆ™è¯¥å‡½æ•°æ˜¯ â€œå‡½æ•°å£°æ˜â€ã€‚
> 
> If the function is created as a part of an expression, itâ€™s called a â€œFunction Expressionâ€.
> 
> å¦‚æœæ˜¯ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†åˆ›å»ºçš„ï¼Œåˆ™ä¸º â€œå‡½æ•°è¡¨è¾¾å¼â€ã€‚

## å‚è€ƒ

* [Function expressions and arrows](https://javascript.info/function-expressions-arrows)

## ä½œè€… ğŸ¦…

* [GitHub](https://github.com/Tao-Quixote)
* e-mail: <web.taox@gmail.com>
